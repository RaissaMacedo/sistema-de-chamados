[{"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/index.js":"1","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/reportWebVitals.js":"2","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/App.js":"3","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/routes/index.js":"4","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/SignIn/index.js":"5","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/SignUp/index.js":"6","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/Dashboard/index.js":"7","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/contexts/auth.js":"8","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/services/firebaseConnection.js":"9","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/routes/Private.js":"10","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/components/Header/index.js":"11","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/Profile/index.js":"12","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/components/Title/index.js":"13","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/Customers/index.js":"14","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/New/index.js":"15"},{"size":542,"mtime":1678490716583,"results":"16","hashOfConfig":"17"},{"size":362,"mtime":1677878596691,"results":"18","hashOfConfig":"17"},{"size":431,"mtime":1678142631153,"results":"19","hashOfConfig":"17"},{"size":1208,"mtime":1678566733905,"results":"20","hashOfConfig":"17"},{"size":1351,"mtime":1678144333571,"results":"21","hashOfConfig":"17"},{"size":1619,"mtime":1678140671452,"results":"22","hashOfConfig":"17"},{"size":5850,"mtime":1678568261311,"results":"23","hashOfConfig":"17"},{"size":3295,"mtime":1678457279238,"results":"24","hashOfConfig":"17"},{"size":712,"mtime":1677886521843,"results":"25","hashOfConfig":"17"},{"size":348,"mtime":1678382224809,"results":"26","hashOfConfig":"17"},{"size":858,"mtime":1678383907082,"results":"27","hashOfConfig":"17"},{"size":4333,"mtime":1678464834198,"results":"28","hashOfConfig":"17"},{"size":168,"mtime":1678389707640,"results":"29","hashOfConfig":"17"},{"size":2140,"mtime":1678474273487,"results":"30","hashOfConfig":"17"},{"size":6574,"mtime":1678569042672,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},"wvuqvu",{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/index.js",[],[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/reportWebVitals.js",[],[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/App.js",[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/routes/index.js",[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/SignIn/index.js",[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/SignUp/index.js",[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/Dashboard/index.js",["80","81"],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/contexts/auth.js",[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/services/firebaseConnection.js",[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/routes/Private.js",[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/components/Header/index.js",[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/Profile/index.js",["82","83"],[],"import Header from '../../components/Header';\nimport Title from '../../components/Title';\nimport './profile.css';\nimport { FiSettings, FiUpload } from 'react-icons/fi';\nimport avatar from '../../assets/avatar.png';\nimport { AuthContext } from '../../contexts/auth';\nimport { useContext, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { db, storage } from '../../services/firebaseConnection';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\n\nexport default function Profile() {\n  const { user, storageUser, setUser, logout } = useContext(AuthContext);\n\n  const [avatarUrl, setAvatarUrl] = useState(user && user.avatarUrl);\n  const [imageAvatar, setImageAvatar] = useState(null);\n  const [nome, setNome] = useState(user && user.nome);\n  const [email, setEmail] = useState(user && user.email);\n\n  function handleFile(e) {\n    if (e.target.files[0]) {\n      const image = e.target.files[0];\n\n      if (image.type === 'image/jpeg' || image.type === 'image/png') {\n        setImageAvatar(image);\n        setAvatarUrl(URL.createObjectURL(image));\n      } else {\n        alert('Envie uma imagem no formato PNG ou JPG');\n        setImageAvatar(null);\n        return;\n      }\n    }\n  }\n  async function handleUpload() {\n    const currentUid = user.uid;\n\n    const uploadRef = ref(storage, `images/${currentUid}/${imageAvatar.name}`); // criando a ref\n    const uploadTask = uploadBytes(uploadRef, imageAvatar) // enviando a imagem (onde e o que)\n      .then((snapshot) => {\n        // pegando url da imagem e atualiza o banco com as info novas\n        getDownloadURL(snapshot.ref).then(async (dowloadURL) => {\n          let urlFoto = dowloadURL;\n          const docRef = doc(db, 'users', user.uid);\n          await updateDoc(docRef, {\n            avatarUrl: urlFoto,\n            nome: nome,\n          }).then(() => {\n            // caso de sucesso\n            let data = {\n              ...user,\n              nome: nome,\n              avatarUrl: urlFoto,\n            };\n            // atualizando context e localstorage\n            setUser(data);\n            storageUser(data);\n            toast.success('Atualizado com sucesso!');\n          });\n        });\n      });\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (imageAvatar === null && nome !== '') {\n      // atualizar apenas o nome do usuario\n      const docRef = doc(db, 'users', user.uid);\n      await updateDoc(docRef, {\n        nome: nome,\n      }).then(() => {\n        let data = {\n          ...user,\n          nome: nome,\n        };\n        setUser(data);\n        storageUser(data);\n        toast.success('Atualizado com sucesso!');\n      });\n    } else if (nome !== '' && imageAvatar !== null) {\n      // atualizar tanto nome quanto a foto\n      handleUpload();\n    }\n  }\n  return (\n    <div>\n      <Header />\n      <div className=\"content\">\n        <Title name=\"Minha conta\">\n          <FiSettings size={25} />\n        </Title>\n        <div className=\"container\">\n          <form className=\"form-profile\" onSubmit={handleSubmit}>\n            <label className=\"label-avatar\">\n              <span>\n                <FiUpload color=\"#FFF\" size={25} />\n              </span>\n              <input type=\"file\" accept=\"image/*\" onChange={handleFile} />{' '}\n              <br />\n              {avatarUrl === null ? (\n                <img\n                  src={avatar}\n                  alt=\"Foto de perfil\"\n                  width={250}\n                  height={250}\n                />\n              ) : (\n                <img\n                  src={avatarUrl}\n                  alt=\"Foto de perfil\"\n                  width={250}\n                  height={250}\n                />\n              )}\n            </label>\n            <label>Nome</label>\n            <input\n              type=\"text\"\n              value={nome}\n              onChange={(e) => setNome(e.target.value)}\n            />\n\n            <label>Email</label>\n            <input type=\"text\" value={email} disabled={true} />\n\n            <button type=\"submit\">Salvar</button>\n          </form>\n        </div>\n        <div className=\"container\">\n          <button className=\"logout-btn\" onClick={() => logout()}>\n            Sair\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/components/Title/index.js",[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/Customers/index.js",[],[],"/home/raissa/Documentos/Projetos-dev/REACT/so-called-system/src/pages/New/index.js",["84","85","86"],[],{"ruleId":"87","severity":1,"message":"88","line":1,"column":10,"nodeType":"89","messageId":"90","endLine":1,"endColumn":20},{"ruleId":"87","severity":1,"message":"91","line":2,"column":10,"nodeType":"89","messageId":"90","endLine":2,"endColumn":21},{"ruleId":"87","severity":1,"message":"92","line":19,"column":17,"nodeType":"89","messageId":"90","endLine":19,"endColumn":25},{"ruleId":"87","severity":1,"message":"93","line":39,"column":11,"nodeType":"89","messageId":"90","endLine":39,"endColumn":21},{"ruleId":"87","severity":1,"message":"94","line":17,"column":10,"nodeType":"89","messageId":"90","endLine":17,"endColumn":14},{"ruleId":"87","severity":1,"message":"95","line":37,"column":13,"nodeType":"89","messageId":"90","endLine":37,"endColumn":26},{"ruleId":"96","severity":1,"message":"97","line":67,"column":6,"nodeType":"98","endLine":67,"endColumn":10,"suggestions":"99"},"no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'AuthContext' is defined but never used.","'setEmail' is assigned a value but never used.","'uploadTask' is assigned a value but never used.","'list' is defined but never used.","'querySnapshot' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadId'. Either include it or remove the dependency array.","ArrayExpression",["100"],{"desc":"101","fix":"102"},"Update the dependencies array to be: [id, loadId]",{"range":"103","text":"104"},[2066,2070],"[id, loadId]"]